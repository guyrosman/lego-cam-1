[service]
output_dir = "./videos"
min_free_mb = 256
segment_seconds = 30
inactivity_seconds = 10
developer_mode = false  # true = on-screen preview + rich status logs; false = normal headless
developer_view = "normal"  # normal|sensor_test (sensor_test = TMF8820-only debug, no camera)

[camera]
backend = "picamera2"
width = 1280
height = 720
fps = 30
codec = "h264"
rotation_mode = "ffmpeg_segment"  # ffmpeg_segment|rotate (ffmpeg requires apt install ffmpeg)

[motion]
enable_vision_motion = true
has_radar_or_lidar = false
disable_vision_if_radar_or_lidar = true
vision_motion_fps = 5
vision_motion_sensitivity = 30  # Higher = less sensitive (default 25, increased to reduce false positives)

[sensor]
backend = "tof_i2c"
poll_hz = 8
simulate = false  # MUST be false for real TMF8820; true = fake distance for testing
# TMF8820 only (when simulate = false):
# tof_min_confidence = 10   # 0-255; lower = accept noisier zones (try 5 if distance is missing)
# tof_calibration_file = "" # path to .bin from: python3 scripts/calibrate_tmf8820.py -o tmf8820_cal.bin
# tof_smooth_alpha = 0.25   # 0 = no smoothing; 0.2-0.4 = smoother displayed distance
# tof_hysteresis_mm = 80    # motion = distance change >= this (mm); increase to reduce false triggers (e.g. 100, 120)
# tof_confirm_ms = 100     # require change to persist this many ms at 50Hz (filters blips); 0 = off
